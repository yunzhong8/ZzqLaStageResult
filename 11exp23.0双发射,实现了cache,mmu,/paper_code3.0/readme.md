# 

[toc]
##
本文件扩展到57指令

1. 目前已经实现了基础指令的大部分指令，
2. 还剩乘法除法取模指令和栅栈指令，cache预取指令。
3. 现在打算测试目前已经实现的指令
   必须学习gcc如何编写汇编程序
   4 .在实现握手，在测试已经实现的指令
4. 在实现乘除法。通过乘除法号实现
   
   ### 
   
   5、目前正在实现分支预测
   
   ### 
   当前实现了例外，结果看了教学视频发现自己前面的csr读写设计是有问题的，csr的读写应该在同一个阶段，因为csr寄存器和regs寄存器不一样，csr会被硬件修改，所以forward对它没有用处，所以下一期打算对csr访问进行重构
   ## 
  目前已经实现,同时重构实现了csr的读写全部设置在wb阶段，实现了中断了，测试到了tlb了 
   ## 
当前版本在单发射的模式下可以通过58个测试点，双发射模式icache的命中率几乎为0,没有加速效果
## 
cache加速通过自己的测试，有加速效果
## 
目前添加完vga显示驱动，设在了显存，但是综合的时候，板卡资源使用过大，lut资源使用38800最大只有20800，目前删除组合always,减少lut资源的使用
## 
更换啦新的除法器和乘法器，除法器采用补码一位除，恢复余数法，需要33个周期
乘法器：使用的是华莱士树，
ex级只包含1个除法器，2个乘法器，
目前已经可以允许我自己写的贪吃蛇
## 目前打算将伪icache修改为真正的icache
目前已经实现类sram接口的设计，并单发射通过58个测试点
### 设计axi转接桥，并且通过了固定延迟的58个测试点
### 目前实现啦tlb功能，还未实现mmu功能
由于我对核心态指令出现在mem级别，就会阻塞exe级的指令，
所以导致csr_wd,csr_chxg指令的修改没有和tlb_rd,tlb_search,tlb_wr,tlb_inv造成读写相关,
但是tlb_wr,tlb_inv,tlb_rd，tlb_fill会导致TLB发生变化，会导致取指令的虚实地址翻译错误，但是很奇怪exp18好像没有设置这方面的指令流检测
###实现了mmu
但是有两个隐藏问题
1. exe级例外指令的错误地址会发到外界
2. 4mb使用的ppn是tlb的查找出的全ppn
###集成了cache
通过了72个测试点
### ibar,dbar没有实现,cache维护指令没有实现
